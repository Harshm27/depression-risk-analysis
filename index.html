<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Depression Risk Factors Analysis | Individual Assignment</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-bg: #ecf0f1;
            --dark-bg: #34495e;
            --text-color: #2c3e50;
            --light-text: #7f8c8d;
            --success-color: #27ae60;
            --warning-color: #f39c12;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            border-radius: 20px;
            padding: 60px 40px;
            margin-bottom: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--secondary-color), var(--accent-color), var(--success-color));
        }

        h1 {
            font-size: 3em;
            color: var(--primary-color);
            margin-bottom: 15px;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            font-size: 1.3em;
            color: var(--light-text);
            margin-bottom: 20px;
        }

        .metadata {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            margin-top: 25px;
        }

        .metadata-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: var(--light-bg);
            border-radius: 30px;
            font-size: 0.95em;
            color: var(--text-color);
        }

        .metadata-item::before {
            content: '';
            font-size: 1.2em;
        }

        .metadata-item:nth-child(2)::before {
            content: '';
        }

        .metadata-item:nth-child(3)::before {
            content: '';
        }

        /* Navigation */
        nav {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 50px;
            padding: 15px 30px;
            margin-bottom: 40px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 20px;
            z-index: 100;
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        nav a {
            text-decoration: none;
            color: var(--text-color);
            padding: 12px 25px;
            border-radius: 30px;
            transition: all 0.3s ease;
            font-weight: 500;
            display: inline-block;
        }

        nav a:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        /* Section Styles */
        section {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        section:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        h2 {
            font-size: 2.2em;
            color: var(--primary-color);
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid var(--secondary-color);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        h3 {
            font-size: 1.6em;
            color: var(--secondary-color);
            margin: 30px 0 15px;
        }

        h4 {
            font-size: 1.3em;
            color: var(--dark-bg);
            margin: 20px 0 10px;
        }

        p {
            margin-bottom: 15px;
            color: var(--text-color);
            line-height: 1.8;
        }

        /* Grid Layouts */
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 25px 0;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        /* Card Styles */
        .card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            padding: 25px;
            border-left: 5px solid var(--secondary-color);
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        .card h4 {
            color: var(--secondary-color);
            margin-bottom: 15px;
        }

        .highlight-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .highlight-box h3 {
            color: white;
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
            padding-bottom: 10px;
            margin-bottom: 15px;
        }

        .highlight-box p {
            color: rgba(255, 255, 255, 0.95);
        }

        /* Variable Lists */
        .variable-list {
            background: var(--light-bg);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }

        .variable-list ul {
            list-style: none;
            padding-left: 0;
        }

        .variable-list li {
            padding: 10px 15px;
            margin: 5px 0;
            background: white;
            border-radius: 8px;
            border-left: 4px solid var(--secondary-color);
            transition: all 0.2s ease;
        }

        .variable-list li:hover {
            transform: translateX(5px);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .variable-list code {
            background: var(--dark-bg);
            color: white;
            padding: 3px 8px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.3);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: scale(1.05);
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            margin: 10px 0;
        }

        .stat-label {
            font-size: 0.95em;
            opacity: 0.9;
        }

        /* Code Blocks */
        .code-section {
            background: #282c34;
            color: #abb2bf;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            margin: 15px 0;
            border-left: 5px solid var(--secondary-color);
        }

        .code-section code {
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            line-height: 1.5;
        }

        /* Key Findings */
        .key-finding {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 20px 25px;
            border-radius: 12px;
            margin: 15px 0;
            border-left: 5px solid white;
            box-shadow: 0 5px 15px rgba(245, 87, 108, 0.3);
        }

        .key-finding strong {
            font-size: 1.1em;
        }

        /* Model Comparison Table */
        .model-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .model-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        .model-table td {
            padding: 12px 15px;
            border-bottom: 1px solid var(--light-bg);
        }

        .model-table tr:hover {
            background: var(--light-bg);
        }

        /* Footer */
        footer {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-top: 40px;
            text-align: center;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
        }

        footer p {
            color: var(--light-text);
            margin: 5px 0;
        }

        /* Download Buttons */
        .download-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            margin: 25px 0;
        }

        .btn {
            padding: 12px 30px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        /* Badges */
        .badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            margin: 5px;
        }

        .badge-primary {
            background: var(--secondary-color);
            color: white;
        }

        .badge-success {
            background: var(--success-color);
            color: white;
        }

        .badge-warning {
            background: var(--warning-color);
            color: white;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }

            .subtitle {
                font-size: 1.1em;
            }

            section {
                padding: 25px;
            }

            nav ul {
                flex-direction: column;
                gap: 5px;
            }

            .metadata {
                flex-direction: column;
                gap: 10px;
            }

            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }
        }

        /* Smooth Scroll */
        html {
            scroll-behavior: smooth;
        }

        /* Section Icons */
        .section-icon {
            font-size: 1.3em;
        }

        /* Analysis Steps */
        .steps {
            counter-reset: step-counter;
        }

        .step {
            position: relative;
            padding-left: 60px;
            margin: 25px 0;
            padding-bottom: 25px;
            border-left: 3px solid var(--secondary-color);
        }

        .step::before {
            counter-increment: step-counter;
            content: counter(step-counter);
            position: absolute;
            left: -20px;
            top: 0;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
            box-shadow: 0 3px 10px rgba(102, 126, 234, 0.4);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <h1>Depression Risk Factors Analysis</h1>
            <p class="subtitle">A Comprehensive Study Using the Add Health Dataset</p>
            <div class="metadata">
                <span class="metadata-item">Individual Assignment</span>
                <span class="metadata-item">Imperial College London</span>
                <span class="metadata-item">Semester 3</span>
            </div>
        </header>

        <!-- Navigation -->
        <nav>
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#data">Data</a></li>
                <li><a href="#preparation">Preparation</a></li>
                <li><a href="#visualization">Visualization</a></li>
                <li><a href="#regression">Regression</a></li>
                <li><a href="#findings">Findings</a></li>
                <li><a href="#resources">Resources</a></li>
            </ul>
        </nav>

        <!-- Overview Section -->
        <section id="overview">
            <h2>Project Overview</h2>
            
            <div class="highlight-box">
                <h3>Research Objective</h3>
                <p>This comprehensive analysis investigates the multifaceted determinants of depression among young adults using Wave III data from the National Longitudinal Study of Adolescent to Adult Health (Add Health). The study examines how social relationships, family dynamics, socioeconomic factors, and demographic characteristics collectively influence depression diagnosis rates.</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">Dataset Source</div>
                    <div class="stat-number">Add Health</div>
                    <div class="stat-label">Wave III Data</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Variables Analyzed</div>
                    <div class="stat-number">15+</div>
                    <div class="stat-label">Predictors</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Analysis Methods</div>
                    <div class="stat-number">3</div>
                    <div class="stat-label">Model Types</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Categories</div>
                    <div class="stat-number">3</div>
                    <div class="stat-label">Main Groups</div>
                </div>
            </div>

            <h3>Key Research Questions</h3>
            <div class="grid-2">
                <div class="card">
                    <h4>Social Support</h4>
                    <p>How do peer interactions and family relationships influence depression risk?</p>
                </div>
                <div class="card">
                    <h4>Socioeconomic Factors</h4>
                    <p>What role do income, employment, and public assistance play in mental health outcomes?</p>
                </div>
                <div class="card">
                    <h4>Gender Differences</h4>
                    <p>Are there significant gender-based variations in depression risk factors?</p>
                </div>
                <div class="card">
                    <h4>Interaction Effects</h4>
                    <p>How do multiple factors interact to impact depression diagnosis rates?</p>
                </div>
            </div>
        </section>

        <!-- Data Section -->
        <section id="data">
            <h2>Data Extraction & Variables</h2>

            <h3>Dataset Information</h3>
            <p>The analysis utilizes the <strong>Add Health (ICPSR_21600)</strong> dataset, specifically focusing on Wave III data which captures information from young adults. The dataset was extracted from 42 different data files and consolidated into a comprehensive analytical dataset.</p>

            <div class="highlight-box">
                <h3>Target Variable</h3>
                <p><code>H3ID15</code> - Have you ever been diagnosed with depression?</p>
                <p><strong>Encoding:</strong> 0 = No Depression | 1 = Diagnosed Depression</p>
            </div>

            <h3>Independent Variables</h3>

            <div class="grid-3">
                <div class="card">
                    <h4>Friends & Family (7 variables)</h4>
                    <div class="variable-list">
                        <ul>
                            <li><code>H3DA15</code> - Peer interaction frequency</li>
                            <li><code>H3FS12</code> - Friends vs family influence</li>
                            <li><code>H3FS11</code> - Retained high school friends</li>
                            <li><code>H3SP6</code> - Feeling sad/blues</li>
                            <li><code>H3WP46</code> - Closeness to mother</li>
                            <li><code>H3WP53</code> - Closeness to father</li>
                            <li><code>H3WP57</code> - Parents living together</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h4>Socioeconomic (6 variables)</h4>
                    <div class="variable-list">
                        <ul>
                            <li><code>H3DA28</code> - Current employment status</li>
                            <li><code>H3EC7</code> - Household income</li>
                            <li><code>H3EC3</code> - Personal income</li>
                            <li><code>H3DA36</code> - School enrollment</li>
                            <li><code>H3EC26</code> - Receiving welfare</li>
                            <li><code>H3EC38</code> - Ever received assistance</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h4>Demographics (2 variables)</h4>
                    <div class="variable-list">
                        <ul>
                            <li><code>BIO_SEX3</code> - Biological gender</li>
                            <li><code>H3OD4A</code> - Race (White/Non-White)</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h3>Data Processing Pipeline</h3>
            <div class="steps">
                <div class="step">
                    <h4>Data Extraction</h4>
                    <p>Loaded 42 .dta files from ICPSR_21600 dataset using the <code>haven</code> package and extracted relevant variables from Wave III data.</p>
                </div>
                <div class="step">
                    <h4>Variable Selection</h4>
                    <p>Identified 17 key variables across three categories: social support, socioeconomic status, and demographics.</p>
                </div>
                <div class="step">
                    <h4>Initial Cleaning</h4>
                    <p>Removed rows with missing values to create <code>cleaned_addhealth_data.csv</code>.</p>
                </div>
                <div class="step">
                    <h4>Data Validation</h4>
                    <p>Performed structural analysis and summary statistics to verify data integrity.</p>
                </div>
            </div>
        </section>

        <!-- Data Preparation Section -->
        <section id="preparation">
            <h2>Data Preparation & Recoding</h2>

            <p>All variables underwent systematic recoding to ensure analytical validity and interpretability. Invalid responses, refusals, and system-missing values were converted to NA, while valid responses were transformed into meaningful categorical or ordinal factors.</p>

            <h3>Recoding Strategy</h3>

            <div class="grid-2">
                <div class="card">
                    <h4>Categorical Variables</h4>
                    <p>Binary and nominal variables were converted to labeled factors with clear, interpretable categories. Special codes (e.g., "Not Asked", "Skipped") were preserved where meaningful.</p>
                    <span class="badge badge-primary">Employment Status</span>
                    <span class="badge badge-primary">Gender</span>
                    <span class="badge badge-primary">Race</span>
                </div>
                <div class="card">
                    <h4>Ordinal Variables</h4>
                    <p>Variables with natural ordering (income brackets, closeness scales) were encoded as ordered factors to preserve hierarchical relationships.</p>
                    <span class="badge badge-success">Income Levels</span>
                    <span class="badge badge-success">Parental Closeness</span>
                    <span class="badge badge-success">Sadness Frequency</span>
                </div>
            </div>

            <h3>Example Recoding: Depression (Target Variable)</h3>
            <div class="code-section">
                <code>
# Recode H3ID15 – Have you ever been diagnosed with depression?<br>
# 0 = No, 1 = Yes, all others = NA<br>
<br>
cleaned_data$H3ID15_recode <- ifelse(cleaned_data$H3ID15 %in% c(0, 1),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_data$H3ID15,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NA)<br>
<br>
cleaned_data$H3ID15_recode <- factor(cleaned_data$H3ID15_recode,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;levels = c(0, 1),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;labels = c("No Depression", "Diagnosed Depression"))
                </code>
            </div>

            <h3>Final Dataset</h3>
            <div class="highlight-box">
                <h3>Complete Dataset Characteristics</h3>
                <ul style="list-style: disc; padding-left: 20px;">
                    <li>All variables recoded and labeled</li>
                    <li>Missing values handled appropriately</li>
                    <li>Complete-case analysis ready</li>
                    <li>Saved as <code>complete_addhealth_data.csv</code></li>
                </ul>
            </div>
        </section>

        <!-- Visualization Section -->
        <section id="visualization">
            <h2>Data Visualization & Exploratory Analysis</h2>

            <p>Comprehensive visualizations were created to explore relationships between depression and various predictors, examining both bivariate associations and complex interaction effects.</p>

            <h3>Visualization Techniques Employed</h3>

            <div class="grid-3">
                <div class="card">
                    <h4>Bar Plots</h4>
                    <p>Proportional stacked bar charts showing depression rates across categorical predictors for each variable.</p>
                </div>
                <div class="card">
                    <h4>Box Plots</h4>
                    <p>Distribution analysis of peer interaction frequency stratified by depression diagnosis status.</p>
                </div>
                <div class="card">
                    <h4>Line Plots</h4>
                    <p>Trend analysis with confidence intervals examining depression rates across peer interaction levels by gender.</p>
                </div>
                <div class="card">
                    <h4>Heatmaps</h4>
                    <p>Two-dimensional visualization of depression rates across gender and income combinations.</p>
                </div>
                <div class="card">
                    <h4>Mosaic Plots</h4>
                    <p>Proportional area representations showing relationships between employment and depression.</p>
                </div>
                <div class="card">
                    <h4>Faceted Plots</h4>
                    <p>Multi-panel visualizations exploring three-way interactions between peer support, welfare receipt, and gender.</p>
                </div>
            </div>

            <h3>Key Visualizations</h3>

            <div class="key-finding">
                <strong>Depression Rates by Peer Interaction and Gender</strong>
                <p>A striking pattern emerges: increased peer interaction is associated with lower depression rates across both genders, with females showing consistently higher depression rates at all interaction levels.</p>
            </div>

            <div class="key-finding">
                <strong>Interaction Effect: Peer Support × Welfare Status</strong>
                <p>Peer interaction appears to have differential protective effects depending on welfare receipt status, suggesting socioeconomic moderation of social support benefits.</p>
            </div>

            <div class="key-finding">
                <strong>Parental Closeness and Depression</strong>
                <p>Extremely close relationships with biological mother correlate with lowest depression rates, with effects varying by gender and welfare receipt status.</p>
            </div>

            <div class="key-finding">
                <strong>Emotional State × Social Activity</strong>
                <p>Heatmap analysis reveals that individuals with high sadness frequency and low peer interaction show dramatically elevated depression rates.</p>
            </div>

            <h3>Cross-Tabulation Insights</h3>
            <table class="model-table">
                <thead>
                    <tr>
                        <th>Analysis</th>
                        <th>Key Finding</th>
                        <th>Implication</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Peer Interaction × Depression</td>
                        <td>Inverse relationship observed</td>
                        <td>Social isolation as risk factor</td>
                    </tr>
                    <tr>
                        <td>Household Income × Depression</td>
                        <td>Lower income associated with higher rates</td>
                        <td>Socioeconomic stress impact</td>
                    </tr>
                    <tr>
                        <td>Gender × Depression</td>
                        <td>Females show 1.5-2x higher rates</td>
                        <td>Gender-specific vulnerabilities</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Regression Analysis Section -->
        <section id="regression">
            <h2>Regression Analysis</h2>

            <p>Multiple logistic regression models were constructed to quantify the relationship between depression diagnosis and various predictors, accounting for confounding variables and exploring interaction effects.</p>

            <h3>Modeling Approach</h3>

            <div class="steps">
                <div class="step">
                    <h4>Correlation Analysis</h4>
                    <p>Generated correlation matrix to identify multicollinearity issues and understand variable relationships before model construction.</p>
                </div>
                <div class="step">
                    <h4>Baseline Model</h4>
                    <p>Constructed initial model with only socioeconomic and demographic predictors to establish foundation for comparison.</p>
                </div>
                <div class="step">
                    <h4>Full Model</h4>
                    <p>Incorporated all predictors including social support variables to assess comprehensive effects.</p>
                </div>
                <div class="step">
                    <h4>Stepwise Selection</h4>
                    <p>Applied bidirectional stepwise regression to identify optimal predictor subset based on AIC criterion.</p>
                </div>
                <div class="step">
                    <h4>Stratified Analysis</h4>
                    <p>Conducted separate regressions by gender to explore sex-specific effects.</p>
                </div>
                <div class="step">
                    <h4>Interaction Models</h4>
                    <p>Tested interaction terms between sadness, income, and peer support to capture synergistic effects.</p>
                </div>
            </div>

            <h3>Model Comparison</h3>
            <table class="model-table">
                <thead>
                    <tr>
                        <th>Model Type</th>
                        <th>Variables Included</th>
                        <th>Purpose</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Baseline Model</strong></td>
                        <td>SES + Demographics only</td>
                        <td>Establish foundation, control for confounders</td>
                    </tr>
                    <tr>
                        <td><strong>Full Model</strong></td>
                        <td>All 15+ predictors</td>
                        <td>Comprehensive analysis of all effects</td>
                    </tr>
                    <tr>
                        <td><strong>Stepwise Model</strong></td>
                        <td>AIC-optimized subset</td>
                        <td>Identify most important predictors</td>
                    </tr>
                    <tr>
                        <td><strong>Gender-Stratified</strong></td>
                        <td>Separate male/female models</td>
                        <td>Explore sex-specific risk factors</td>
                    </tr>
                    <tr>
                        <td><strong>Interaction Model</strong></td>
                        <td>Sadness × Low Income</td>
                        <td>Test synergistic effects</td>
                    </tr>
                </tbody>
            </table>

            <h3>Key Predictors Identified</h3>
            <div class="grid-2">
                <div class="card">
                    <h4>Strongest Positive Associations</h4>
                    <div class="variable-list">
                        <ul>
                            <li><span class="badge badge-warning">High</span> Frequency of feeling sad/blues</li>
                            <li><span class="badge badge-warning">High</span> Lower closeness to father</li>
                            <li><span class="badge badge-warning">Medium</span> Female gender</li>
                            <li><span class="badge badge-warning">Medium</span> Welfare receipt status</li>
                        </ul>
                    </div>
                </div>
                <div class="card">
                    <h4>Protective Factors</h4>
                    <div class="variable-list">
                        <ul>
                            <li><span class="badge badge-success">High</span> Frequent peer interactions</li>
                            <li><span class="badge badge-success">Medium</span> Current employment</li>
                            <li><span class="badge badge-success">Medium</span> Higher household income</li>
                            <li><span class="badge badge-success">Low</span> School enrollment</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="highlight-box">
                <h3>Model Performance</h3>
                <p>All models demonstrated statistically significant predictive power (p < 0.001), with the full model explaining substantial variance in depression outcomes. Stepwise selection retained approximately 8-10 predictors as most parsimonious while maintaining predictive accuracy.</p>
            </div>
        </section>

        <!-- Findings Section -->
        <section id="findings">
            <h2>Key Findings & Implications</h2>

            <div class="highlight-box">
                <h3>Major Discoveries</h3>
                <p>This comprehensive analysis reveals that depression among young adults is influenced by a complex interplay of social, economic, and demographic factors, with particularly strong effects from emotional well-being indicators and social support structures.</p>
            </div>

            <h3>Primary Findings</h3>

            <div class="key-finding">
                <strong>1. Social Support as Protective Factor</strong>
                <p>Frequent peer interactions and strong family relationships consistently predict lower depression rates. The protective effect of peer support is particularly pronounced among individuals with low socioeconomic status, suggesting social connections may buffer economic stressors.</p>
            </div>

            <div class="key-finding">
                <strong>2. Gender Disparities</strong>
                <p>Females exhibit significantly higher depression diagnosis rates across all analyzed conditions. This gender gap persists even after controlling for socioeconomic factors, suggesting biological, psychological, or social mechanisms specific to female experience.</p>
            </div>

            <div class="key-finding">
                <strong>3. Emotional State as Strongest Predictor</strong>
                <p>Self-reported frequency of feeling sad or unable to "shake off the blues" emerged as the most powerful predictor of depression diagnosis, even surpassing socioeconomic indicators in effect size.</p>
            </div>

            <div class="key-finding">
                <strong>4. Parental Relationship Quality</strong>
                <p>Closeness to biological parents, particularly fathers, shows significant association with depression outcomes. Lack of close paternal relationships appears to be an independent risk factor beyond general family structure.</p>
            </div>

            <div class="key-finding">
                <strong>5. Socioeconomic Interactions</strong>
                <p>The relationship between peer support and depression is moderated by income and welfare receipt status. Low-income individuals may derive greater benefit from social connections, possibly compensating for resource constraints.</p>
            </div>

            <h3>Clinical & Policy Implications</h3>

            <div class="grid-2">
                <div class="card">
                    <h4>Clinical Practice</h4>
                    <ul style="margin-top: 15px;">
                        <li>Screen for social isolation in depression assessments</li>
                        <li>Consider gender-specific intervention approaches</li>
                        <li>Address family relationship quality in treatment</li>
                        <li>Pay special attention to emotional symptom frequency</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>Public Health Policy</h4>
                    <ul style="margin-top: 15px;">
                        <li>Develop social connection programs for at-risk youth</li>
                        <li>Target interventions to low-income communities</li>
                        <li>Create gender-sensitive mental health services</li>
                        <li>Support family counseling and relationship building</li>
                    </ul>
                </div>
            </div>

            <h3>Study Limitations</h3>
            <div class="card">
                <h4>Methodological Considerations</h4>
                <ul style="margin-top: 15px;">
                    <li><strong>Cross-sectional design:</strong> Cannot establish causality or temporal relationships</li>
                    <li><strong>Self-reported data:</strong> Potential for recall bias and social desirability effects</li>
                    <li><strong>Missing data:</strong> Complete-case analysis may introduce selection bias</li>
                    <li><strong>Depression measure:</strong> Binary diagnosis may not capture depression severity spectrum</li>
                    <li><strong>Unmeasured confounders:</strong> Genetic factors, trauma history, and other variables not captured</li>
                </ul>
            </div>

            <h3>Future Research Directions</h3>
            <div class="grid-3">
                <div class="card">
                    <h4>Longitudinal Analysis</h4>
                    <p>Examine how changes in social support over time predict depression onset and recovery.</p>
                </div>
                <div class="card">
                    <h4>Mechanism Studies</h4>
                    <p>Investigate biological and psychological pathways linking social factors to depression.</p>
                </div>
                <div class="card">
                    <h4>Intervention Trials</h4>
                    <p>Test whether enhancing peer support reduces depression risk in randomized designs.</p>
                </div>
            </div>
        </section>

        <!-- Resources Section -->
        <section id="resources">
            <h2>Project Resources</h2>

            <h3>Available Downloads</h3>
            <div class="download-buttons">
                <a href="HCA_Individual_Assg1.Rmd" class="btn btn-primary" download>
                    R Markdown Code
                </a>
                <a href="HCA_Individual_Assg1.html" class="btn btn-secondary" download>
                    Analysis Report (HTML)
                </a>
                <a href="HCA_Individual_Assg1_Code.pdf" class="btn btn-success" download>
                    Code PDF
                </a>
                <a href="HCA_Individual_Assignment.pdf" class="btn btn-primary" download>
                    Assignment Document
                </a>
            </div>

            <h3>Datasets</h3>
            <div class="grid-3">
                <div class="card">
                    <h4>Cleaned Dataset</h4>
                    <p><code>cleaned_addhealth_data.csv</code></p>
                    <p>Initial cleaned data with NA removal</p>
                </div>
                <div class="card">
                    <h4>Recoded Dataset</h4>
                    <p><code>recoded_addhealth_data.csv</code></p>
                    <p>All variables recoded and labeled</p>
                </div>
                <div class="card">
                    <h4>Complete Dataset</h4>
                    <p><code>complete_addhealth_data.csv</code></p>
                    <p>Final analysis-ready dataset</p>
                </div>
            </div>

            <h3>Technical Stack</h3>
            <div class="grid-2">
                <div class="card">
                    <h4>R Packages Used</h4>
                    <ul style="margin-top: 15px;">
                        <li><code>haven</code> - Read .dta Stata files</li>
                        <li><code>tidyverse</code> - Data manipulation and visualization</li>
                        <li><code>ggplot2</code> - Advanced plotting</li>
                        <li><code>dplyr</code> - Data wrangling</li>
                        <li><code>corrplot</code> - Correlation matrices</li>
                        <li><code>ggmosaic</code> - Mosaic plots</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>Analysis Methods</h4>
                    <ul style="margin-top: 15px;">
                        <li>Logistic Regression (GLM)</li>
                        <li>Stepwise Model Selection</li>
                        <li>Stratified Analysis</li>
                        <li>Interaction Modeling</li>
                        <li>Cross-tabulation</li>
                        <li>Visualization Suite</li>
                    </ul>
                </div>
            </div>

            <div class="highlight-box">
                <h3>Data Source</h3>
                <p><strong>National Longitudinal Study of Adolescent to Adult Health (Add Health)</strong></p>
                <p>ICPSR Study Number: 21600 | Wave III Data | Ages: Young Adults (18-26 years)</p>
                <p>The Add Health study is a nationally representative longitudinal study examining the health and risk behaviors of adolescents as they transition to adulthood.</p>
            </div>
        </section>

        <!-- Footer -->
        <footer>
            <p><strong>Depression Risk Factors Analysis - Individual Assignment</strong></p>
            <p>Imperial College London | Semester 3 | 2025</p>
            <p style="margin-top: 15px; font-size: 0.9em;">
                <span class="badge badge-primary">Data Science</span>
                <span class="badge badge-success">Healthcare Analytics</span>
                <span class="badge badge-warning">Statistical Modeling</span>
            </p>
            <p style="margin-top: 15px; color: var(--light-text); font-size: 0.85em;">
                This analysis was conducted using R and RMarkdown | Depression Risk Factor Analysis
            </p>
        </footer>
    </div>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add active class to current section in navigation
        window.addEventListener('scroll', () => {
            let current = '';
            const sections = document.querySelectorAll('section');
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (pageYOffset >= sectionTop - 150) {
                    current = section.getAttribute('id');
                }
            });

            document.querySelectorAll('nav a').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        });

        // Add entrance animations on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        document.querySelectorAll('section').forEach(section => {
            section.style.opacity = '0';
            section.style.transform = 'translateY(20px)';
            section.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(section);
        });
    </script>
</body>
</html>

